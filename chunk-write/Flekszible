source:
  - url: github.com/flokkr/docker-ozone
  - path: ..
import:
    - path: util
    - path: ozone
      transformations:
         - type: ozone/profiler
         - type: PublishStatefulSet
         - type: ozone/devtracing
         - type: perftest/handlerfix
         - type: Change
           path: 
             - spec
             - replicas
           trigger:
             metadata:
                name: ozone-datanode
           replacement: 3
         - type: Add
           path:
             - spec
           value:
               podManagementPolicy: Parallel
           trigger:
              kind: Statefulset
              metadata:
                  name: ozone-datanode
         - type: perftest/memdisk
         - type: perftest/jvm
    - path: ozone-freon
      destination: freon
      transformations:
         - type: Replace
           path:
             - spec
             - template
             - spec
             - containers
             - .*
             - args
           value:
             - ozone
             - freon
             - dcg
             - --size=10240
             - -t40
             - -n100000
transformations:
  - type: Namespace
  - type: image
    image: elek/ozone-dev:30ec0e2d0
    trigger:
       metadata:
         labels:
           app: ozone
